(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9841:function(e,n,t){Promise.resolve().then(t.bind(t,3774))},8447:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var a=t(7573);let i=e=>{let{children:n,className:t,appName:i,handleAddItem:r}=e;return(0,a.jsx)("button",{className:t,onClick:r,children:n})};var r=t(1145),s=t.n(r),o=t(7653),l=t(5191),d=t(1489);function c(e){let{children:n}=e;return(0,a.jsx)(l.Z,{sx:{width:{xs:"100%",sm:"50%",md:"83%"}},children:(0,a.jsx)(d.Z,{variant:"outlined",children:n})})}var u=t(7875);function _(e){let{setInputValueHandler:n,inputValue:t}=e,i=e=>{n(e.target.value)};return(0,a.jsx)(l.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,a.jsx)(u.Z,{id:"outlined-basic",label:"Outlined",variant:"outlined",onChange:e=>i(e),value:t})})}var p=t(6813),x=t(1640);function g(e){let{imagePath:n}=e;return(0,a.jsx)(x.Z,{direction:"row",spacing:5,sx:{paddingLeft:2,paddingTop:1},children:(0,a.jsx)(p.Z,{alt:"Remy Sharp",src:n})})}var h=t(5183),m=t(7119),j=t(2217),f=t(6178),Z=t(5338),v=t(417),b=t(5596),C=t(9428),w=t(9015),y=t(3746),k=t(5088),L=t(1885);function S(e){let{items:n,handleChanges:t}=e,[i,r]=(0,o.useState)(null),[s,d]=(0,o.useState)(""),c=async e=>{try{(await L.Z.delete("/api/toDoList",{headers:{"Content-Type":"application/json"},data:{id:e}})).data&&t()}catch(e){console.error("Error deleting todo:",e)}},u=async(e,n)=>{try{(await L.Z.put("/api/toDoList",{id:e,description:n})).data&&t()}catch(e){console.error("Error updating todo:",e)}},_=(e,n)=>{r(e),d(n)},x=e=>{""!==s.trim()&&(u(e,s),r(null))},g=()=>{r(null),d("")},h=e=>{d(e.target.value)};return(0,a.jsx)(l.Z,{sx:{flexGrow:1,maxWidth:1e3},children:(0,a.jsx)(b.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(l.Z,{sx:{flexGrow:1},children:(0,a.jsx)(m.Z,{children:n&&n.map(e=>(0,a.jsxs)(j.ZP,{secondaryAction:i===e._id?(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(v.Z,{edge:"end","aria-label":"save",onClick:()=>x(e._id),children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)(v.Z,{edge:"end","aria-label":"cancel",onClick:g,children:(0,a.jsx)(k.Z,{})})]}):(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(v.Z,{edge:"end","aria-label":"edit",onClick:()=>_(e._id,e.description),children:(0,a.jsx)(w.Z,{})}),(0,a.jsx)(v.Z,{edge:"end","aria-label":"delete",onClick:()=>c(e._id),children:(0,a.jsx)(C.Z,{})})]}),children:[(0,a.jsx)(f.Z,{children:(0,a.jsx)(p.Z,{children:(0,a.jsx)(w.Z,{})})}),i===e._id?(0,a.jsx)("input",{type:"text",value:s,onChange:h}):(0,a.jsx)(Z.Z,{primary:e.description,secondary:null})]},e._id))})})})})}var N=t(9984),E=t(4251);function G(){let{data:e}=(0,E.useSession)(),[n,t]=(0,o.useState)([]),[r,d]=(0,o.useState)(""),[u,p]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var n;x(null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.email)},[u,e]);let x=async e=>{try{let n=await L.Z.get("/api/toDoList",{params:{email:e}});t(n.data.todos)}catch(e){console.error("Error fetching todos:",e)}},m=async()=>{var n;let t=await L.Z.post("/api/toDoList",{description:r,userEmail:null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.email});if(t)return d(""),p(!u),t};return(0,a.jsxs)(c,{children:[(0,a.jsx)(_,{setInputValueHandler:e=>{d(e)},inputValue:r}),(0,a.jsx)(i,{appName:"web",className:s().button,handleAddItem:m,children:"Add"}),(0,a.jsx)(h.Z,{}),(0,a.jsxs)(l.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,a.jsx)(g,{imagePath:""}),(0,a.jsx)(b.ZP,{item:!0,xs:12,md:6,marginLeft:5,children:(0,a.jsx)(N.Z,{sx:{mt:4,mb:2},variant:"h6",component:"div",children:"To Do list"})})]}),(0,a.jsx)(S,{items:n,handleChanges:()=>{p(!u)}})]})}},3774:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var a=t(7573),i=t(1145),r=t.n(i),s=t(7653),o=t(8447),l=t(4251);function d(){let e=(0,l.useSession)();return((0,s.useEffect)(()=>{},[e]),null===e.data)?(0,a.jsx)("main",{className:r().main,children:(0,a.jsx)("h1",{children:"Login First"})}):(0,a.jsx)("main",{className:r().main,children:(0,a.jsx)(o.default,{})})}},1145:function(e){e.exports={main:"page_main__nw1Wk",description:"page_description__lvaOp",code:"page_code__9AfUJ",hero:"page_hero__7KFOs",heroContent:"page_heroContent__dzLob",grid:"page_grid__JZ9Cz",card:"page_card__Cf__u",content:"page_content___38fW",center:"page_center__NcdcW",circles:"page_circles__13uc1",turborepoWordmarkContainer:"page_turborepoWordmarkContainer__VeGRa",gradient:"page_gradient__Gm6Ic",gradientSmall:"page_gradientSmall__ISB9d",gradientLarge:"page_gradientLarge__jMYhh",glowConic:"page_glowConic__F9x_a",logoGradient:"page_logoGradient__lslN3",backgroundGradient:"page_backgroundGradient__B93RB",button:"page_button__52WaL"}}},function(e){e.O(0,[189,251,440,293,286,744],function(){return e(e.s=9841)}),_N_E=e.O()}]);